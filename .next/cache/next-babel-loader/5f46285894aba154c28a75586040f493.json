{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useCallback } from 'react';\nimport Input from './input';\nimport Textarea from './textarea';\nimport UploadButton from './upload-button';\n\nconst ReviewsForm = ({\n  reviewsForm: {\n    header,\n    submitButtonTitle,\n    fields: [nameInput, cityInput, dateInput, messageInput]\n  }\n}) => {\n  const {\n    0: fields,\n    1: setFields\n  } = useState({\n    name: '',\n    city: '',\n    date: '',\n    message: ''\n  });\n  const {\n    0: errors,\n    1: setErrors\n  } = useState({});\n  const {\n    name,\n    city,\n    date,\n    message\n  } = fields;\n  const handleSubmit = useCallback(event => {\n    event.preventDefault();\n    const isFormValid = name !== '' && city !== '' && date !== '' && message !== '';\n    setErrors(_objectSpread(_objectSpread({}, errors), {}, {\n      name: name === '',\n      city: city === '',\n      date: date === '',\n      message: message === ''\n    }));\n\n    if (isFormValid) {\n      window.alert('Отзыв отправлен!');\n      event.target.submit();\n      setFields({\n        name: '',\n        city: '',\n        date: '',\n        message: ''\n      });\n    }\n  }, [name, city, date, message]);\n  const handleChange = useCallback(event => {\n    const fieldName = event.target.name;\n    const fieldValue = event.target.value;\n    setFields(_objectSpread(_objectSpread({}, fields), {}, {\n      [fieldName]: fieldValue\n    }));\n    setErrors(_objectSpread(_objectSpread({}, errors), {}, {\n      [fieldName]: fieldValue === ''\n    }));\n  });\n  return /*#__PURE__*/_jsxs(\"section\", {\n    className: \"jsx-1718611824\" + \" \" + \"review-form\",\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"jsx-1718611824\" + \" \" + \"grid-x\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"jsx-1718611824\" + \" \" + \"cell small-12 medium-12 large-12\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"jsx-1718611824\" + \" \" + \"grid-x\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"jsx-1718611824\" + \" \" + \"cell\",\n            children: /*#__PURE__*/_jsx(\"h3\", {\n              className: \"jsx-1718611824\" + \" \" + \"font-bold margin-bottom-3\",\n              children: header\n            })\n          })\n        }), /*#__PURE__*/_jsxs(\"form\", {\n          encType: \"multipart/form-data\",\n          onSubmit: handleSubmit,\n          method: \"post\",\n          action: \"/api/send-review-form\",\n          className: \"jsx-1718611824\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"jsx-1718611824\" + \" \" + \"grid-x\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"jsx-1718611824\" + \" \" + \"cell margin-bottom-1\",\n              children: /*#__PURE__*/_jsx(UploadButton, {})\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"jsx-1718611824\" + \" \" + \"grid-x\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"jsx-1718611824\" + \" \" + \"cell margin-bottom-1\",\n              children: nameInput && /*#__PURE__*/_jsx(Input, {\n                name: nameInput.name,\n                type: nameInput.type,\n                placeholder: nameInput.placeholder,\n                onChange: handleChange,\n                error: errors.name\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"jsx-1718611824\" + \" \" + \"grid-x\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"jsx-1718611824\" + \" \" + \"cell margin-bottom-1\",\n              children: cityInput && /*#__PURE__*/_jsx(Input, {\n                name: cityInput.name,\n                type: cityInput.type,\n                placeholder: cityInput.placeholder,\n                onChange: handleChange,\n                error: errors.city\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"jsx-1718611824\" + \" \" + \"grid-x\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"jsx-1718611824\" + \" \" + \"cell margin-bottom-1\",\n              children: dateInput && /*#__PURE__*/_jsx(Input, {\n                name: dateInput.name,\n                type: dateInput.type,\n                placeholder: dateInput.placeholder,\n                onChange: handleChange,\n                error: errors.date\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"jsx-1718611824\" + \" \" + \"grid-x\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"jsx-1718611824\" + \" \" + \"cell margin-bottom-1\",\n              children: messageInput && /*#__PURE__*/_jsx(Textarea, {\n                name: messageInput.name,\n                type: messageInput.type,\n                placeholder: messageInput.placeholder,\n                rows: 8,\n                onChange: handleChange,\n                error: errors.message\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"jsx-1718611824\" + \" \" + \"grid-x margin-top-1\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"jsx-1718611824\" + \" \" + \"cell text-right\",\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: \"jsx-1718611824\" + \" \" + \"submit-button\",\n                children: /*#__PURE__*/_jsx(\"input\", {\n                  type: \"submit\",\n                  value: submitButtonTitle,\n                  className: \"jsx-1718611824\" + \" \" + \"color-white h5\"\n                })\n              })\n            })\n          })]\n        })]\n      })\n    }), /*#__PURE__*/_jsx(_JSXStyle, {\n      id: \"1718611824\",\n      children: [\".review-form.jsx-1718611824{padding:5vw;}\", \".submit-button.jsx-1718611824{border:2px solid #372964;background:#372964;display:inline-block;-webkit-transition:all 0.3s ease-in-out;transition:all 0.3s ease-in-out;}\", \".submit-button.jsx-1718611824 input.jsx-1718611824{border:none;background:transparent;margin:0;-webkit-transition:all 0.3s ease-in-out;transition:all 0.3s ease-in-out;outline:none;padding:0.5rem 1rem;}\", \".submit-button.jsx-1718611824:hover{background:#ffffff;color:#372964 !important;cursor:pointer;}\", \".submit-button.jsx-1718611824:hover input.jsx-1718611824{color:#372964;cursor:pointer;}\"]\n    })]\n  });\n};\n\nexport default ReviewsForm;","map":null,"metadata":{},"sourceType":"module"}