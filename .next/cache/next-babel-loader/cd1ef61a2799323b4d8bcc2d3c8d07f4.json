{"ast":null,"code":"import _defineProperty from \"D:/PROJECTS/grand-casino/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"D:/PROJECTS/grand-casino/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useCallback, useState } from 'react';\nimport sendFormData from '../utils/send-form-data';\nimport Input from './input';\nimport Textarea from './textarea';\n\nvar ContactForm = function ContactForm(_ref) {\n  var _ref$contactsForm = _ref.contactsForm,\n      header = _ref$contactsForm.header,\n      submitButtonTitle = _ref$contactsForm.submitButtonTitle,\n      _ref$contactsForm$fie = _slicedToArray(_ref$contactsForm.fields, 5),\n      nameInput = _ref$contactsForm$fie[0],\n      phoneInput = _ref$contactsForm$fie[1],\n      cityInput = _ref$contactsForm$fie[2],\n      dateInput = _ref$contactsForm$fie[3],\n      messageInput = _ref$contactsForm$fie[4];\n\n  var _useState = useState({\n    name: '',\n    phone: '',\n    city: '',\n    date: '',\n    message: ''\n  }),\n      fields = _useState[0],\n      setFields = _useState[1];\n\n  var _useState2 = useState({}),\n      errors = _useState2[0],\n      setErrors = _useState2[1];\n\n  var name = fields.name,\n      phone = fields.phone,\n      city = fields.city,\n      date = fields.date,\n      message = fields.message;\n  var handleSubmit = useCallback(function (event) {\n    event.preventDefault();\n    var isFormValid = name !== '' && phone !== '' && city !== '' && date !== '' && message !== '';\n    setErrors(_objectSpread(_objectSpread({}, errors), {}, {\n      name: name === '',\n      phone: phone === '',\n      city: city === '',\n      date: date === '',\n      message: message === ''\n    }));\n\n    if (isFormValid) {\n      sendFormData('/api/send-contacts-form', {\n        name: name,\n        phone: phone,\n        city: city,\n        date: date,\n        message: message\n      });\n      window.alert('Заявка отправлена!');\n      event.target.reset();\n      setFields({\n        name: '',\n        phone: '',\n        city: '',\n        date: '',\n        message: ''\n      });\n    }\n  }, [name, phone, city, date, message]);\n  var handleChange = useCallback(function (event) {\n    var fieldName = event.target.name;\n    var fieldValue = event.target.value;\n    setFields(_objectSpread(_objectSpread({}, fields), {}, _defineProperty({}, fieldName, fieldValue)));\n    setErrors(_objectSpread(_objectSpread({}, errors), {}, _defineProperty({}, fieldName, fieldValue === '')));\n  });\n  return /*#__PURE__*/_jsxs(\"section\", {\n    className: \"jsx-3932996042\" + \" \" + \"contact-form\",\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"jsx-3932996042\" + \" \" + \"grid-x\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"jsx-3932996042\" + \" \" + \"cell small-12 medium-12 large-12\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"jsx-3932996042\" + \" \" + \"grid-x\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"jsx-3932996042\" + \" \" + \"cell small-12 medium-12 large-12\",\n            children: /*#__PURE__*/_jsx(\"h3\", {\n              className: \"jsx-3932996042\" + \" \" + \"font-bold margin-bottom-3\",\n              children: header\n            })\n          })\n        }), /*#__PURE__*/_jsxs(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"jsx-3932996042\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-3932996042\" + \" \" + \"grid-x grid-margin-x\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"jsx-3932996042\" + \" \" + \"cell small-12 medium-12 large-6 margin-bottom-1\",\n              children: nameInput && /*#__PURE__*/_jsx(Input, {\n                name: nameInput.name,\n                type: nameInput.type,\n                placeholder: nameInput.placeholder,\n                onChange: handleChange,\n                error: errors.name\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"jsx-3932996042\" + \" \" + \"cell small-12 medium-12 large-6 margin-bottom-1\",\n              children: phoneInput && /*#__PURE__*/_jsx(Input, {\n                name: phoneInput.name,\n                type: phoneInput.type,\n                placeholder: phoneInput.placeholder,\n                onChange: handleChange,\n                error: errors.phone\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-3932996042\" + \" \" + \"grid-x grid-margin-x\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"jsx-3932996042\" + \" \" + \"cell small-12 medium-12 large-6 margin-bottom-1\",\n              children: cityInput && /*#__PURE__*/_jsx(Input, {\n                name: cityInput.name,\n                type: cityInput.type,\n                placeholder: cityInput.placeholder,\n                onChange: handleChange,\n                error: errors.city\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"jsx-3932996042\" + \" \" + \"cell small-12 medium-12 large-6 margin-bottom-1\",\n              children: dateInput && /*#__PURE__*/_jsx(Input, {\n                name: dateInput.name,\n                type: dateInput.type,\n                placeholder: dateInput.placeholder,\n                onChange: handleChange,\n                error: errors.date\n              })\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"jsx-3932996042\" + \" \" + \"grid-x\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"jsx-3932996042\" + \" \" + \"cell small-12 medium-12 large-12 margin-bottom-1\",\n              children: messageInput && /*#__PURE__*/_jsx(Textarea, {\n                name: messageInput.name,\n                type: messageInput.type,\n                placeholder: messageInput.placeholder,\n                onChange: handleChange,\n                rows: 8,\n                error: errors.message\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"jsx-3932996042\" + \" \" + \"grid-x margin-top-1\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"jsx-3932996042\" + \" \" + \"cell small-12 medium-12 large-12 text-right\",\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: \"jsx-3932996042\" + \" \" + \"submit-button\",\n                children: /*#__PURE__*/_jsx(\"input\", {\n                  type: \"submit\",\n                  value: submitButtonTitle,\n                  className: \"jsx-3932996042\" + \" \" + \"color-white h5\"\n                })\n              })\n            })\n          })]\n        })]\n      })\n    }), /*#__PURE__*/_jsx(_JSXStyle, {\n      id: \"3932996042\",\n      children: [\".contact-form.jsx-3932996042{padding:5vw;}\", \".submit-button.jsx-3932996042{border:2px solid #372964;background:#372964;display:inline-block;-webkit-transition:all 0.3s ease-in-out;transition:all 0.3s ease-in-out;}\", \".submit-button.jsx-3932996042 input.jsx-3932996042{border:none;background:transparent;margin:0;-webkit-transition:all 0.3s ease-in-out;transition:all 0.3s ease-in-out;outline:none;padding:0.5rem 1rem;}\", \".submit-button.jsx-3932996042:hover{background:#ffffff;color:#372964 !important;cursor:pointer;}\", \".submit-button.jsx-3932996042:hover input.jsx-3932996042{color:#372964;cursor:pointer;}\"]\n    })]\n  });\n};\n\nexport default ContactForm;","map":null,"metadata":{},"sourceType":"module"}